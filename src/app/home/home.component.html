<mat-sidenav-container class="home-container">
  <!-- Sidebar -->
  <mat-sidenav #sidenav [(opened)]="isSidebarOpen" [mode]="sidebarMode">
    <app-sidebar [remotes]="remotes" (remoteSelected)="selectRemote($event)">
    </app-sidebar>
  </mat-sidenav>

  <!-- Main Content -->
  <mat-sidenav-content class="main-content" position="start">

    <!-- Sidebar Toggle Button -->
    <div class="sticky-sidebar-button">
      <button class="toggle-sidebar" (click)="sidenav.toggle()">
        <img src="assets/icons/titlebar/menu-bar.svg" class="icons icon-bw" />
      </button>
    </div>


    <!-- Add Remote Dialog -->
    <div class="add-remote" *ngIf="remotes.length === 0">
      <img src="../../assets/rclone-2.svg" alt="RClone Manager Secondary Icon" />
      <h2>RClone Manager</h2>
      <p>Easily manage your RClone remotes. If you're new to RClone, use "Add Quick Remote" for a fast and simple setup.</p>
      <button (click)="openQuickAddRemoteModal()" class="secondary">
        <img src="assets/icons/add-white.svg" class="icon" /> Add Quick Remote
      </button>
      <button (click)="openRemoteConfigModal()" class="secondary">
        <img src="assets/icons/add-white.svg" class="icon" /> Add Detailed Remote
      </button>
    </div>

    <!-- Overview -->
    <app-overview *ngIf="remotes.length > 0 && !selectedRemote" [remotes]="remotes" [selectedRemote]="selectedRemote"
      (remoteSelected)="selectRemote($event)" (mountRemote)="mountRemote($event)"
      (openInFiles)="openRemoteInFiles($event)" style="width: 100%;">
    </app-overview>


    <!-- Remote Details (Show When a Remote is Selected) -->
    <app-remote-detail *ngIf="selectedRemote" [selectedRemote]="selectedRemote" [remoteSettings]="loadRemoteSettings(selectedRemote.remoteSpecs.name)"
      (openInFiles)="openRemoteInFiles($event)" (mountRemote)="mountRemote($event)"
      (unmountRemote)="unmountRemote($event)" (deleteRemote)="deleteRemote($event)"
      (saveRemoteSettings)="saveRemoteSettings($event.remoteName, $event.settings)"
      (openRemoteConfigModal)="openRemoteConfigModal($event.editTarget, $event.existingConfig)" style="width: 100%;">
    </app-remote-detail>


  </mat-sidenav-content>
</mat-sidenav-container>