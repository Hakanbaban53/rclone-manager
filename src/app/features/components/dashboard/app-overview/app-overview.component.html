<!-- app-overview.component.html -->
<div class="app-overview" [ngClass]="mode + '-mode'" @fadeInOut>
  <!-- Header Section -->
  <app-overview-header [mode]="mode"></app-overview-header>

  <div class="overview-content">
    <!-- Status Overview Panel -->
    <app-status-overview-panel
      [mode]="mode"
      [totalCount]="remotes.length"
      [activeCount]="activeCount"
      [inactiveCount]="inactiveCount"
      [errorCount]="errorCount"
    >
    </app-status-overview-panel>

    <!-- Active Remotes Panel -->
    @if (activeCount > 0) {
      <app-remotes-panel
        [title]="getActiveTitle()"
        [icon]="activeIcon"
        [remotes]="activeRemotes"
        [variant]="'active'"
        [mode]="mode"
        [iconService]="iconService"
        [actionInProgress]="actionInProgress"
        [primaryActionLabel]="primaryActionLabel"
        [activeIcon]="activeIcon"
        (remoteSelected)="selectRemote($event)"
        (openInFiles)="triggerOpenInFiles($event)"
        (startJob)="startJob.emit({ type: $event.type, remoteName: $event.remoteName })"
        (stopJob)="stopJob.emit({ type: $event.type, remoteName: $event.remoteName })"
      >
      </app-remotes-panel>
    }

    <!-- Inactive Remotes Panel -->
    @if (inactiveCount > 0) {
      <app-remotes-panel
        [title]="getInactiveTitle()"
        [icon]="'circle-xmark'"
        [remotes]="inactiveRemotes"
        [variant]="'inactive'"
        [mode]="mode"
        [iconService]="iconService"
        [actionInProgress]="actionInProgress"
        [primaryActionLabel]="primaryActionLabel"
        [activeIcon]="activeIcon"
        (remoteSelected)="selectRemote($event)"
        (openInFiles)="triggerOpenInFiles($event)"
        (startJob)="startJob.emit({ type: $event.type, remoteName: $event.remoteName })"
        (stopJob)="stopJob.emit({ type: $event.type, remoteName: $event.remoteName })"
      >
      </app-remotes-panel>
    }

    <!-- Error Remotes Panel -->
    @if (errorCount > 0) {
      <app-remotes-panel
        [title]="getErrorTitle()"
        [icon]="'circle-exclamation'"
        [remotes]="errorRemotes"
        [variant]="'error'"
        [mode]="mode"
        [iconService]="iconService"
        [actionInProgress]="actionInProgress"
        [primaryActionLabel]="primaryActionLabel"
        [activeIcon]="activeIcon"
        (remoteSelected)="selectRemote($event)"
        (openInFiles)="triggerOpenInFiles($event)"
        (startJob)="startJob.emit({ type: $event.type, remoteName: $event.remoteName })"
        (stopJob)="stopJob.emit({ type: $event.type, remoteName: $event.remoteName })"
      >
      </app-remotes-panel>
    }
  </div>
</div>
